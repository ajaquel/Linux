
(H)TOP	Description
$ top	Shows top processes running in real-time
$ top | grep {string}	Shows {process} running in real-time
$ htop	Shows top processes running in real-time
PS	Description
$ ps aux	Shows all processes running not in real-time
$ ps aux | grep {string}	Filter processes ID's  names that matches with string.
$ ps -aef | grep -i {string}	Filter processes ID's  names that matches with string.
$ pgrep {string}	Filter processes name matching string but giving out only process ID's numbers
# ps -ef | grep {OpenStack service}	Status process status of OpenStack service
$ ps -eo pcpu,pid,user,args | sort -k 1 -r | head -10	Displays the top 10 CPU users
$ ps -eo pcpu,pid,user,args | sort -r -k1 | less 	Displays the top 10 CPU users
Utilization	Description
$ uptime	It checks… 
load average: 1300.54, 1288.09, 1255.08 (high)
load average: 3.25, 1.22, 0.45 (normal)
IOSTAT	Description
$ iostat	Report Central Processing Unit (CPU) statistics and input/output statistics for devices and partitions
$ iostat -xtc 5 3	Continuously every 10 seconds and 5 lines of queries
Service Activity Report	Description
$ cat /etc/default/sysstat	Set SAR monitoring to "true".
#	
# Default settings for /etc/init.d/sysstat, /etc/cron.d/sysstat	• Report CPU utilization. The following values are displayed:
# and /etc/cron.daily/sysstat files	• %user: Percentage of CPU utilization that occurred while executing at the user level (application).
#	• %nice: Percentage of CPU utilization that occurred while executing at the user level with nice priority.
# Should sadc collect system activity informations? Valid values	• %system: Percentage of CPU utilization that occurred while executing at the system level (kernel).
# are "true" and "false". Please do not put other values, they	• %iowait: Percentage of time that the CPU or CPUs were idle during which the system had an outstanding disk I/O request.
# will be overwritten by debconf!	• %idle: Percentage of time that the CPU or CPUs were idle and the system did not have an outstanding disk I/O request
ENABLED="true"
$ ls -l /var/log/sysstat/	Check if data file exists
total 88
-rw-r--r-- 1 root root 82848 May 16 19:55 sa16
$ systemctl status -a	Checks all services running / not-running
$ systemctl status {service}	Checks {service} running / not-running
$ service --status-all	Checks all services running / not-running
$ service {service} status	Checks {service} running / not-running
$ sar	Displays current CPU activity and usage
$ sar -u 10	Displays current CPU activity and usage continuously every 10 seconds
$ sar -u 10 5	Displays current CPU activity and usage continuously every 10 seconds and 5 lines of queries
$ sar -o output.file 12 8 >/dev/null 2>&1 &	To get multiple samples and multiple reports set an output file for the sar command. Run the sar command as a background process using.
$ nohup sar -o output.file 12 8 >/dev/null 2>&1 &	Better use nohup command so that you can logout and check back report later on
$ sar -f data.file	All data is captured in binary form and saved to a file (data.file). The data can then be selectively displayed ith the sar command using the -f option.
SMP (Multiple CPU) system	Description
$ mpstat	display the utilization of each CPU individually
$ mpstat -P ALL	display activities for each available processor, processor 0 being the first one
IRQ Interrupts (Compute Hosts)	Description
$ cat /proc/interrupts	Displays IRQ Interruptions
$ watch -n 1 cat /proc/interrupts	Monitors IRQ Interruptions every second
$ watch -n 1 cat /proc/interrupts > filename.txt	Monitors IRQ Interruptions every second and saves it into a file
NAGIOS (Compute Hosts)	Description
$ /usr/lib/nagios/plugins/check_contrail_cpu	
$ sudo /usr/localcw/bin/nagios_check_kvm_cpustats -w 90 -c 95	
$ /usr/lib/nagios/plugins/check_inodes	
OTHERS	Description
$ dstat -t -c -m -g -s -l -n	
$ sysctl	
$ vmstat	
$ netstat	
RESTART Host	Description
$ sudo shutdown -r now	Requests that the system be rebooted after it has been brought down.
$ sudo shutdown -h now	Requests that the system be either halted or powered off after it has been brought down, with the choice as to which left up to the system.
$ sudo reboot	This programs allow a system administrator to reboot the system.
WATCH	Description
$ watch -n [command]	Command execution is repeated every n times seconds
$ sudo sosreport	Collect and package diagnostic and support data

sosreport (version 3.5)

This command will collect system configuration and diagnostic
information from this Ubuntu system. An archive containing the collected
information will be generated in /tmp/sos.7l1f7ltr.

For more information on Ubuntu visit:

  http://www.ubuntu.com/

The generated archive may contain data considered sensitive and its
content should be reviewed by the originating organization before being
passed to any third party.

No changes will be made to system configuration.

Press ENTER to continue, or CTRL-C to quit.

Please enter your first initial and last name [server]: {userid}
Please enter the case id that you are generating this report for []: {caseid}

 Setting up archive ...
 Setting up plugins ...
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
 Running plugins. Please wait ...


  Running 1/70: anacron...        
  Running 2/70: apparmor...        
  Running 3/70: apport...        
  Running 4/70: apt...        
  Running 5/70: ata...        
  Running 6/70: block...        
  Running 7/70: ceph...        
  Running 8/70: cgroups...        
  Running 9/70: cron...        
  Running 10/70: crypto...        
  Running 11/70: dbus...        
  Running 12/70: devicemapper...        
  Running 13/70: devices...        
  Running 14/70: dpkg...        
  Running 15/70: filesys...        
  Running 16/70: general...        
  Running 17/70: haproxy...        
  Running 18/70: hardware...        
  Running 19/70: i18n...        
  Running 20/70: ipmitool...        
  Running 21/70: iscsi...        
  Running 22/70: java...        
  Running 23/70: kdump...        
  Running 24/70: kernel...        
  Running 25/70: kvm...        
  Running 26/70: last...        
  Running 27/70: libraries...        
  Running 28/70: libvirt...        
  Running 29/70: logrotate...        
  Running 30/70: logs...        
  Running 31/70: lsbrelease...        
  Running 32/70: lvm2...        
  Running 33/70: lxd...        
  Running 34/70: maas...        
  Running 35/70: md...        
  Running 36/70: memory...        
  Running 37/70: multipath...        
  Running 38/70: mysql...        
  Running 39/70: networking...        
  Running 40/70: ntp...        
  Running 41/70: openssl...        
  Running 42/70: openstack_ceilometer...        
  Running 43/70: openstack_keystone...        
  Running 44/70: openstack_neutron...        
  Running 45/70: openstack_nova...        
  Running 46/70: pam...        
  Running 47/70: pci...        
  Running 48/70: perl...        
  Running 49/70: postfix...        
  Running 50/70: ppp...        
  Running 51/70: procenv...        
  Running 52/70: process...        
  Running 53/70: processor...        
  Running 54/70: acct...        
  Running 55/70: puppet...        
  Running 56/70: python...        
  Running 57/70: scsi...        
  Running 58/70: sendmail...        
  Running 59/70: services...        
  Running 60/70: snmp...        
  Running 61/70: soundcard...        
  Running 62/70: ssh...        
  Running 63/70: system...        
  Running 64/70: sysvipc...        
  Running 65/70: ubuntu...        
  Running 66/70: udev...        
  Running 67/70: upstart...        
  Running 68/70: usb...        
  Running 69/70: x11...        
  Running 70/70: xfs...        
Creating compressed archive...

Your sosreport has been generated and saved in:
  /tmp/sosreport-aj7782.RT2281286-20190517223704.tar.xz

The checksum is: 3aa0e4ce697acbe6e9f417b9b0157eb6

Please send this file to your support representative.

sosreport (version 3.5)

This command will collect system configuration and diagnostic
information from this Ubuntu system. An archive containing the collected
information will be generated in /tmp/sos.fqh0l7v4.

For more information on Ubuntu visit:

  http://www.ubuntu.com/

The generated archive may contain data considered sensitive and its
content should be reviewed by the originating organization before being
passed to any third party.

No changes will be made to system configuration.

Press ENTER to continue, or CTRL-C to quit.

Please enter your first initial and last name [mtmnjrsv131.mtmnj1b.aic.cip.att.com]: aj7782
Please enter the case id that you are generating this report for []: RT2281286

 Setting up archive ...
 Setting up plugins ...
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
Not all environment variables set. Source the environment file for the user intended to connect to the OpenStack environment.
 Running plugins. Please wait ...

  Running 1/71: anacron...        
  Running 2/71: apparmor...        
  Running 3/71: apport...        
.
.
.        
  Running 70/71: x11...        
  Running 71/71: xfs...        

Creating compressed archive...

 No space left on device while finalizing archive




aj7782@mtmnjrsv131:~$ df -h
Filesystem            Size  Used Avail Use% Mounted on
udev                   21G   20K   21G   1% /dev
tmpfs                  26G  3.2M   26G   1% /run
/dev/dm-2              22G  5.4G   16G  26% /
none                  4.0K     0  4.0K   0% /sys/fs/cgroup
none                  5.0M     0  5.0M   0% /run/lock
none                  126G     0  126G   0% /run/shm
none                  100M     0  100M   0% /run/user
/dev/sda3             196M   96M   91M  52% /boot
/dev/sda4              10G   33M   10G   1% /var/crashes
/dev/mapper/logs-log  9.8G  5.3G  4.0G  58% /var/log
/dev/mapper/vms-nova  512G  7.8G  504G   2% /var/lib/nova


aj7782@mtmnjrsv131:~$ sudo sosreport --all-logs --tmp-dir /run
  .
  .
  .
  Running 69/71: usb...        
  Running 70/71: x11...        
  Running 71/71: xfs...        

Creating compressed archive...

Your sosreport has been generated and saved in:
  /run/sosreport-aj7782.RT2281286-20190521004942.tar.xz

The checksum is: 5440029507ad137abf14a97416414cbb

Please send this file to your support representative.


aj7782@mtmnjrsv131:/run$ sudo chown aj7782:aicdev sosreport-aj7782.RT2281286-20190517223704.tar.xz


